<html>
    <head>
        <script src="commands.js"></script>
        <style>
            .column {
            float: left;
            width: 33.33%;
            padding: 5px;
            }
            .row::after {
            content: "";
            clear: both;
            display: table;
            }
        </style>
        <script>

        function take_picture()
        {
            delay_sec = 4;
            pic_delay = setInterval(function()
            {
                document.getElementById("countdown").innerText = delay_sec;
                delay_sec--;
                if(delay_sec == 0)
                {
                    clearInterval(pic_delay)
                    snapshot()
                    document.getElementById("countdown").innerText = "done!";
                }
            },1000);
        }   
        add_to_keymap(32, take_picture,null)
        add_to_keymap(32,
        function()
        {
            motor_do(1,1)
        },
        function()
        {
            motor_do(1,'coast')   
        })
        </script>
    </head>
    <body>
        <div class ="row">
            <div class="column">
                <img  src="/stream.mjpg" width="640" height="480" style="width:100%"/>
            </div>
            <div class="column">
                <img src="/album/snapshot.jpg" id="snapshot_container" width="640" height="480" style="width:100%"/>
            </div>
        </div>
        
        <button id = "countdown" onclick="take_picture()">druk op mij!</button>
    </body>
</html>